import { Input } from '@angular/core';
import { Component } from '@angular/core';
export class NgsAvaterComponent {
    constructor() {
        this.size = '108px';
        this.textColor = '#FFFFFF';
        this.showInitials = false;
        this.circleColor = '';
        this.letterSpacing = 0.5;
        this.fontSizeSpliter = [0, 'px'];
        this.colors = [
            '#EB7181',
            '#468547',
            '#FFD558',
            '#3670B2',
        ];
    }
    ngOnChanges(changes) {
        var _a, _b, _c, _d, _e, _f;
        if (this.fontSize) {
            this.fontSizeSpliter[0] = Number((_a = this.fontSize) === null || _a === void 0 ? void 0 : _a.match(/\d+/g)) || 0;
            this.fontSizeSpliter[1] = ((_b = this.fontSize) === null || _b === void 0 ? void 0 : _b.match(/[a-zA-Z]+/g)) || 'px';
        }
        else {
            this.fontSizeSpliter[0] = (Number((_c = this.size) === null || _c === void 0 ? void 0 : _c.match(/\d+/g)) / 2) || 0;
            this.fontSizeSpliter[1] = ((_d = this.size) === null || _d === void 0 ? void 0 : _d.match(/[a-zA-Z]+/g)) || 'px';
        }
        if (((_e = changes.name) === null || _e === void 0 ? void 0 : _e.previousValue) !== ((_f = changes.name) === null || _f === void 0 ? void 0 : _f.currentValue)) {
            this.createInititals();
        }
    }
    ngOnInit() {
        var _a, _b, _c, _d;
        if (this.fontSize) {
            this.fontSizeSpliter[0] = Number((_a = this.fontSize) === null || _a === void 0 ? void 0 : _a.match(/\d+/g)) || 0;
            this.fontSizeSpliter[1] = ((_b = this.fontSize) === null || _b === void 0 ? void 0 : _b.match(/[a-zA-Z]+/g)) || 'px';
        }
        else {
            this.fontSizeSpliter[0] = (Number((_c = this.size) === null || _c === void 0 ? void 0 : _c.match(/\d+/g)) / 2) || 0;
            this.fontSizeSpliter[1] = ((_d = this.size) === null || _d === void 0 ? void 0 : _d.match(/[a-zA-Z]+/g)) || 'px';
        }
        if (this.fontSizeSpliter[0] < 20) {
            this.letterSpacing = 0.26;
        }
        else if (this.fontSizeSpliter[0] < 40) {
            this.letterSpacing = 0.52;
        }
        else if (this.fontSizeSpliter[0] < 60) {
            this.letterSpacing = 1.2;
        }
        else if (this.fontSizeSpliter[0] < 80) {
            this.letterSpacing = 1.5;
        }
        if (!this.photoUrl) {
            this.showInitials = true;
            this.createInititals();
        }
        const randomIndex = Math.floor(Math.random() * Math.floor(this.colors.length));
        this.circleColor = this.colors[randomIndex];
    }
    createInititals() {
        var _a, _b;
        if (!this.photoUrl) {
            this.showInitials = true;
        }
        else {
            this.showInitials = false;
        }
        this.initials = '';
        if (this.name) {
            let x = this.name.split(' ');
            x = x.filter((str) => str.trim().length > 0);
            if (x.length > 0) {
                this.initials = x.shift().charAt(0).toUpperCase();
                if (x.length > 0) {
                    this.initials += (_b = (_a = x.pop()) === null || _a === void 0 ? void 0 : _a.charAt(0)) === null || _b === void 0 ? void 0 : _b.toUpperCase();
                }
            }
            else {
                this.showInitials = false;
            }
        }
        else {
            this.showInitials = false;
        }
    }
}
NgsAvaterComponent.decorators = [
    { type: Component, args: [{
                // tslint:disable-next-line: component-selector
                selector: 'ngs-avater',
                template: `
  <div class="circle"
    [ngStyle]="{
        'background-color': isFixedColor ? isFixedColor : circleColor,
        'width'           : size,
        'height'          : size
    }"
  >
    <img *ngIf="photoUrl" src="{{photoUrl}}"
    [ngStyle]="{
        'width'           : imageSize ? imageSize : size,
        'height'          : imageSize ? imageSize : size
    }"
    />

    <div *ngIf="showInitials && !photoUrl" class="initials"
        [ngStyle]="{
            'font-size'       : fontSizeSpliter[0]+fontSizeSpliter[1],
            'line-height'     : (fontSizeSpliter[0]-2)+'fontSizeSpliter[1]',
            'letter-spacing'  : letterSpacing+'px',
            'color'           : textColor
        }"
    >
        {{ initials }}
    </div>

    <img *ngIf="!photoUrl && !showInitials" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAJy0lEQVR4Xu2dd6w+RRWGHxRFURFUxEYklKBGVDRGjdgCNooGUBERS0Axig1bNNagKCDEiAlI0VhQQFCxExAENRAkJPYaNAi2oGBFsOaB/czNxXt/W2bnO7M7J7m5/+zOnHnn/WZn5rSNqDJrBDaa9ejr4KkEmDkJKgEqAWaOwMyHX1eASoCZIzDz4dcVoBJg5gjMfPh1BagEmB0CmwI7AJsDmzWj/xNwHfBT4G9zQmQOK4CT/BRgL+DhwPbArdeY5H8BPwMuBb4AfAWQHJOVKRPAyX41sC9w254zeANwJvA+4LKebYR+bYoEeAhwLPCExMh/FXgN8O3E7S61uSkR4E7A0cDB6yzxQ8H2E3Ei8HrgL0Mbi/D+VAjwMOCTzeYuB64/B54DXJKjszH7mAIBDgA+NOA73xdf9wcvAE7r20CE90onwGuBo2BpZu1/N/sCN4lFSskE8Dt8ZBDUJeIxQXTppEapBHgu8NEl/vJXg/yfZvPpp6goKZEAjwYuAG4TDOl/AI8DLg6m17rqlEaAuwCXA/cNCvJVwM7ANUH1u4VapRHg88CewcH9LLB3cB3/p15JBHgmcEYhwEoAiRBeSiGABp0fAvcKj+jNCv4SeEAJt4WlEOCtwDsKmfyFmm8C3h1d5xIIcGfAq9ctooO5Sr/fA9tGNyeXQIA3A4cXNvkLdd8IvCey7tEJcCvgisDHvg3N7ZXNKqAVMaREJ8AejWdOSPBaKqU30jktn83+WHQCnA48KzsqaTvUWrh/2ibTtRaZAJsAv1vhuJlu1Hlb+iNwd+DGvN226y0yAVw6v9xuGOGfeiJwXkQtIxNA8+phEUHroZM+C2/o8d7or0QmwDcALX9TkAuBx0ccSFQCaOo1UMMgjinIX5tAlH9GG0xUAniP/v1oYA3U5/7Ajwa2kfz1qASYwvl/9WQ9tYk0Sj6JQxqMSoBDgeOGDCzguy8Fjo+mV1QCeH8ectc8YAK1DGohDCVRCfAB4GWhkBqujCvaK4Y3k7aFqAT4cBN0kXa0y21Nj+GDlqvCLXuPSgDDvJ4dDayB+oS0CUQlgD7/Bw4EPNrrjun50ZSKSoATgEOigTVQH08AngRCSVQCTMkOsJjw9wKvCzX7gUKrVuPiETC0K1WPiXTyJUEoiboC6ASiM8iU5BnAWdEGFJUA5vcxUdOUxCQWhrWFkqgEMBDkWkCn0CmITqGmpQuXViYqAZx0rYFaBacg3wEeHHEgkQngzdkLI4LWQ6eTgBf3eG/0VyITwPw7XglPQbzU+njEgUQmwF2B346Y8i3XfPj93wowVCycRCaAYH0d2CUcat0U+toISSu7abDO09EJMAXHkJCOIAtORCeAkcG/Ktg5VGdQcxqETTgdnQAStWTfgJOBFyVbr0doqAQCeBfw3QIvhdz8PTCiJ/BKHpVAAPUt0UHkY8DzRvjRJm2yFALcD/A2LVpuwLUmw0BQf/1WIAktpRBAEEvyFH4n8JbQM98oVxIBbg98r8m4ERlbS848CLg+spKlHANXY/hI4KLAnwJj/wwC/WYJk6+OJa0AC0wjZQlfPc+WlLFcTTFSIgHU2VPBfsFQVieLV5g5vBgpkQCC62ngc005uAhgm/3DHMZWESlKSiWAIN+xIUHq6mBdJ9BqYk8rteBkyQRwoqwH+JElRhHp5Gnxir93ZU2U50sngDjqN+iZ27+1KoKmxtvdvrmLjwCsG1SsTIEAC/AfA3j9OnYxCfMW6+FTzFFvPXZOiQCO08siQ7DNL+weIaVYVNoQb2/5wnn39h3o1AiwwOHewMsbU6xlZobIH5pqoeYsuHpIQxHfnSoBFljfAXh682eOHsvLthEdOKwcbtWPs0vd4bcZ6NQJsBKDjQGtivrn+99ADf8UU9L5ZxYvi0P7P1xKtzYT2vWZORGgKzazeL4SYBbTvPYgKwEqAWaOQPrh3xPYHrCS6J8Bi0maMj6kRF0B7tHEBT4Z2AbwKOe17y8AHS7Ob3bolpOJII8CXgX8v5OGN4U6tVru9sSm/F0EnW/SIRoBdgAMBjGQ8nYtUNIKZzaRZcXd6/dnSTuTP7TBUlOxxqP3A1ZBXbq0UTqHkrsCOlNYJKKrToJqRdG3AT/OoWxzjNQWYDXTrvouVPxWY79Yaj2hvsqnwtmsGebNSZFL33O7v6oPAueOYKTR6PSkJnvZXgkNTxLA/EF+JrLLsgiwNfCuxoNmjCwgvwE+A3ypCTDtuwnzosjg1N2bgtDuTcYQg0iMgLLOYNbK47kJoLnWMjAunxpucojgerOnR/EPmvt8CaL3jmloFKuSWqTKCb4PYG5/v+/+H4Oga43bcPiX5Cw8nZMA2wFm/XhsjlkvvI9PNUklR18NchDAPjwiueTn+tUXPv83qa/l0dPFJWMOZmwCaI3z2+ZuuUp3BPxMeSw2yngUGZMAVs52I2aUTJVhCJhn+JXN7eKwlla9PRYB3DlrSzfPT5U0CHjEdSVN6no+BgE80+uz39b5Ig0882jFfEPeQSRzSUtNAIMj3MG2ucadx5SlH6WxkeKsoWmwpCSASn06cODmYLACNaC7mivBYK+lVAR4KGB51NSeuIEwD6dKkvxDKQigB65nVW/QquRFwEjpo4d0OZQA1va9uB71hkzBoHf1Ndit8TXo1dBQAng+9e66yvIQ8MbQuxbjFzrLEALo/fLFAfbwzsrWF9ZEwM33vn3w6UsArWZm7dqyT6f1nVEQ2B+wNmEn6UsAQ7LD58DrhET5D+t8umPXKKY+BNgZuCyznbz86ckzAv0TD+/SVR8CeN6vNv0uKOd71itiVwETbLeSrgTw9sl7/ipxETChpq5lraQrAbyHNhFDlbgI6O5mivpW2cq6EMCyJ7+ux764M79Cs50aH8gNKtuFAHX53yCcYR5oXaW0CwGM1tHnvkp8BA4GTmmjZhcCWMNPr94q8REwdd2pbdTsQgATMhqUWSU+Ao9oW3u5CwH08NVPvXr7xCaA+Y3u1taBtAsBHLYl3S3tXiUuAoagH9JWva4E8BrYqNZcGTnbjqM+dzMClqrxCPiTtoB0JYDtHtPE97Xtoz6XDwFjLt/epbs+BDBVu1G3eqJUiYOAV/T7AAbDtpY+BLBxXcE+0SRgbN1ZfXA0BEyQoXm+c9BIXwI4Et81Havmx81GG1pteD0ETG6p4ccLulZ3/6sbG0KARVsmcPKWUI+UGgeYh7BmM3UFdscvCXpLCgKs7FwymFjBhAtm9aqSDgF3+Dp+muhikdhicOupCTBYodpAXgQqAfLiHa63SoBwU5JXoUqAvHiH660SINyU5FWoEiAv3uF6qwQINyV5FaoEyIt3uN4qAcJNSV6FKgHy4h2ut/8CsopCkJ1xDPIAAAAASUVORK5CYII="
    [ngStyle]="{
        'width'           : imageSize ? imageSize : size,
        'height'          : imageSize ? imageSize : size
    }"
    />
  </div>
  `,
                styles: [`
  .circle {
    border-radius   : 50%;
    display         : flex;
    justify-content : center;
    align-items     : center;
  }
  .circle,img{
      border-radius: 50%;
  }
  `]
            },] }
];
NgsAvaterComponent.propDecorators = {
    photoUrl: [{ type: Input }],
    name: [{ type: Input }],
    size: [{ type: Input }],
    fontSize: [{ type: Input }],
    isFixedColor: [{ type: Input }],
    imageSize: [{ type: Input }],
    textColor: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmdzLWF2YXRlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3MtYXZhdGVyL3NyYy9saWIvbmdzLWF2YXRlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN0QyxPQUFPLEVBQUUsU0FBUyxFQUFvQyxNQUFNLGVBQWUsQ0FBQztBQW1ENUUsTUFBTSxPQUFPLGtCQUFrQjtJQWpEL0I7UUEwRFMsU0FBSSxHQUFHLE9BQU8sQ0FBQztRQVlmLGNBQVMsR0FBRyxTQUFTLENBQUM7UUFFdEIsaUJBQVksR0FBRyxLQUFLLENBQUM7UUFFckIsZ0JBQVcsR0FBRyxFQUFFLENBQUM7UUFDakIsa0JBQWEsR0FBRyxHQUFHLENBQUM7UUFDcEIsb0JBQWUsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUUzQixXQUFNLEdBQUc7WUFDZixTQUFTO1lBQ1QsU0FBUztZQUNULFNBQVM7WUFDVCxTQUFTO1NBQ1YsQ0FBQztJQXNESixDQUFDO0lBcERDLFdBQVcsQ0FBQyxPQUFzQjs7UUFDaEMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2pCLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxPQUFDLElBQUksQ0FBQyxRQUFRLDBDQUFFLEtBQUssQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDcEUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsR0FBSSxPQUFDLElBQUksQ0FBQyxRQUFRLDBDQUFFLEtBQUssQ0FBQyxZQUFZLEVBQVMsSUFBSSxJQUFJLENBQUM7U0FDaEY7YUFBTTtZQUNMLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLE9BQUMsSUFBSSxDQUFDLElBQUksMENBQUUsS0FBSyxDQUFDLE1BQU0sRUFB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LENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzdDLElBQUksQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxRQUFRLEdBQUksQ0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFDM0QsSUFBSSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtvQkFBRSxJQUFJLENBQUMsUUFBUSxnQkFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLDBDQUFFLE1BQU0sQ0FBQyxDQUFDLDJDQUFHLFdBQVcsRUFBRSxDQUFDO2lCQUFFO2FBQzFFO2lCQUFNO2dCQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO2FBQUU7U0FDdEM7YUFBTTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1NBQUU7SUFDdkMsQ0FBQzs7O1lBdklGLFNBQVMsU0FBQztnQkFDVCwrQ0FBK0M7Z0JBQy9DLFFBQVEsRUFBRSxZQUFZO2dCQUN0QixRQUFRLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWlDVDt5QkFDUTs7Ozs7Ozs7OztHQVVSO2FBQ0Y7Ozt1QkFHRSxLQUFLO21CQUdMLEtBQUs7bUJBR0wsS0FBSzt1QkFHTCxLQUFLOzJCQUdMLEtBQUs7d0JBR0wsS0FBSzt3QkFHTCxLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbXBvbmVudCwgT25DaGFuZ2VzLCBPbkluaXQsIFNpbXBsZUNoYW5nZXMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogY29tcG9uZW50LXNlbGVjdG9yXG4gIHNlbGVjdG9yOiAnbmdzLWF2YXRlcicsXG4gIHRlbXBsYXRlOiBgXG4gIDxkaXYgY2xhc3M9XCJjaXJjbGVcIlxuICAgIFtuZ1N0eWxlXT1cIntcbiAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiBpc0ZpeGVkQ29sb3IgPyBpc0ZpeGVkQ29sb3IgOiBjaXJjbGVDb2xvcixcbiAgICAgICAgJ3dpZHRoJyAgICAgICAgICAgOiBzaXplLFxuICAgICAgICAnaGVpZ2h0JyAgICAgICAgICA6IHNpemVcbiAgICB9XCJcbiAgPlxuICAgIDxpbWcgKm5nSWY9XCJwaG90b1VybFwiIHNyYz1cInt7cGhvdG9Vcmx9fVwiXG4gICAgW25nU3R5bGVdPVwie1xuICAgICAgICAnd2lkdGgnICAgICAgICAgICA6IGltYWdlU2l6ZSA/IGltYWdlU2l6ZSA6IHNpemUsXG4gICAgICAgICdoZWlnaHQnICAgICAgICAgIDogaW1hZ2VTaXplID8gaW1hZ2VTaXplIDogc2l6ZVxuICAgIH1cIlxuICAgIC8+XG5cbiAgICA8ZGl2ICpuZ0lmPVwic2hvd0luaXRpYWxzICYmICFwaG90b1VybFwiIGNsYXNzPVwiaW5pdGlhbHNcIlxuICAgICAgICBbbmdTdHlsZV09XCJ7XG4gICAgICAgICAgICAnZm9udC1zaXplJyAgICAgICA6IGZvbnRTaXplU3BsaXRlclswXStmb250U2l6ZVNwbGl0ZXJbMV0sXG4gICAgICAgICAgICAnbGluZS1oZWlnaHQnICAgICA6IChmb250U2l6ZVNwbGl0ZXJbMF0tMikrJ2ZvbnRTaXplU3BsaXRlclsxXScsXG4gICAgICAgICAgICAnbGV0dGVyLXNwYWNpbmcnICA6IGxldHRlclNwYWNpbmcrJ3B4JyxcbiAgICAgICAgICAgICdjb2xvcicgICAgICAgICAgIDogdGV4dENvbG9yXG4gICAgICAgIH1cIlxuICAgID5cbiAgICAgICAge3sgaW5pdGlhbHMgfX1cbiAgICA8L2Rpdj5cblxuICAgIDxpbWcgKm5nSWY9XCIhcGhvdG9VcmwgJiYgIXNob3dJbml0aWFsc1wiIHNyYz1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBSUFBQUFDQUNBWUFBQUREUG1ITEFBQUp5MGxFUVZSNFh1MmRkNncrUlJXR0h4UkZVUkZVeEVZa2xLQkdWRFJHamRnQ05vb0dVQkVSUzBBeGlnMWJOTmFnS0NERWlBbEkwVmhRUUZDeEV4QUVOUkFrSlBZYU5BaTJvR0JGc09hQi9jek54WHQvVzJibk83TTdKN201Lyt6T25Ibm4vV1puNXJTTnFESnJCRGFhOWVqcjRLa0VtRGtKS2dFcUFXYU93TXlIWDFlQVNvQ1pJekR6NGRjVm9CSmc1Z2pNZlBoMUJhZ0VtQjBDbXdJN0FKc0RteldqL3hOd0hmQlQ0Rzl6UW1RT0s0Q1QvQlJnTCtEaHdQYkFyZGVZNUg4QlB3TXVCYjRBZkFXUUhKT1ZLUlBBeVg0MXNDOXcyNTR6ZUFOd0p2QSs0TEtlYllSK2JZb0VlQWh3TFBDRXhNaC9GWGdOOE8zRTdTNjF1U2tSNEU3QTBjREI2eXp4UThIMkUzRWk4SHJnTDBNYmkvRCtWQWp3TU9DVHplWXVCNjQvQjU0RFhKS2pzekg3bUFJQkRnQStOT0E3M3hkZjl3Y3ZBRTdyMjBDRTkwb253R3VCbzJCcFp1MS9OL3NDTjRsRlNza0U4RHQ4WkJEVUplSXhRWFRwcEVhcEJIZ3U4TkVsL3ZKWGcveWZadlBwcDZnb0taRUFqd1l1QUc0VERPbC9BSThETGc2bTE3cnFsRWFBdXdDWEEvY05DdkpWd003QU5VSDF1NFZhcFJIZzg4Q2V3Y0g5TExCM2NCMy9wMTVKQkhnbWNFWWh3RW9BaVJCZVNpR0FCcDBmQXZjS2orak5DdjRTZUVBSnQ0V2xFT0N0d0RzS21meUZtbThDM2gxZDV4SUljR2ZBcTljdG9vTzVTci9mQTl0R055ZVhRSUEzQTRjWE52a0xkZDhJdkNleTd0RUpjQ3ZnaXNESHZnM043WlhOS3FBVk1hUkVKOEFlaldkT1NQQmFLcVUzMGprdG44MytXSFFDbkE0OEt6c3FhVHZVV3JoLzJpYlR0UmFaQUpzQXYxdmh1Smx1MUhsYitpTndkK0RHdk4yMjZ5MHlBVnc2djl4dUdPR2ZlaUp3WGtRdEl4TkE4K3BoRVVIcm9aTStDMi9vOGQ3b3IwUW13RGNBTFg5VGtBdUJ4MGNjU0ZRQ2FPbzFVTU1namluSVg1dEFsSDlHRzB4VUFuaVAvdjFvWUEzVTUvN0Fqd2Eya2Z6MXFBU1l3dmwvOVdROXRZazBTajZKUXhxTVNvQkRnZU9HREN6Z3V5OEZqbyttVjFRQ2VIOGVjdGM4WUFLMURHb2hEQ1ZSQ2ZBQjRHV2hrQnF1akN2YUs0WTNrN2FGcUFUNGNCTjBrWGEweTIxTmorR0RscXZDTFh1UFNnRER2SjRkRGF5QitvUzBDVVFsZ0Q3L0J3NEVQTnJyanVuNTBaU0tTb0FUZ0VPaWdUVlFIMDhBbmdSQ1NWUUNUTWtPc0pqdzl3S3ZDelg3Z1VLclZ1UGlFVEMwSzFXUGlYVHlKVUVvaWJvQzZBU2lNOGlVNUJuQVdkRUdGSlVBNXZjeFVkT1V4Q1FXaHJXRmtxZ0VNQkRrV2tDbjBDbUlUcUdtcFF1WFZpWXFBWngwcllGYUJhY2czd0VlSEhFZ2tRbmd6ZGtMSTRMV1E2ZVRnQmYzZUcvMFZ5SVR3UHc3WGdsUFFielUrbmpFZ1VRbXdGMkIzNDZZOGkzWGZQajkzd293VkN5Y1JDYUFZSDBkMkNVY2F0MFUrdG9JU1N1N2FiRE8wOUVKTUFYSGtKQ09JQXRPUkNlQWtjRy9LdGc1VkdkUWN4cUVUVGdkblFBU3RXVGZnSk9CRnlWYnIwZG9xQVFDZUJmdzNRSXZoZHo4UFRDaUovQktIcFZBQVBVdDBVSGtZOER6UnZqUkptMnlGQUxjRC9BMkxWcHV3TFVtdzBCUWYvMVdJQWt0cFJCQUVFdnlGSDRuOEpiUU05OG9WeElCYmc5OHI4bTRFUmxiUzg0OENMZytzcEtsSEFOWFkvaEk0S0xBbndKai93d0MvV1lKazYrT0phMEFDMHdqWlFsZlBjK1dsTEZjVFRGU0lnSFUyVlBCZnNGUVZpZUxWNWc1dkJncGtRQ0M2Mm5nYzAwNXVBaGdtLzNESE1aV0VTbEtTaVdBSU4reElVSHE2bUJkSjlCcVlrOHJ0ZUJreVFSd29xd0grSkVsUmhIcDVHbnhpcjkzWlUyVTUwc25nRGpxTitpWjI3KzFLb0tteHR2ZHZybUxqd0NzRzFTc1RJRUFDL0FmQTNqOU9uWXhDZk1XNitGVHpGRnZQWFpPaVFDTzA4c2lRN0ROTCt3ZUlhVllWTm9RYjIvNXdubjM5aDNvMUFpd3dPSGV3TXNiVTZ4bFpvYklINXBxb2VZc3VIcElReEhmblNvQkZsamZBWGg2ODJlT0hzdkx0aEVkT0t3Y2J0V1BzMHZkNGJjWjZOUUpzQktEalFHdGl2cm4rOTlBRGY4VVU5TDVaeFl2aTBQN1AxeEt0ellUMnZXWk9SR2dLemF6ZUw0U1lCYlR2UFlnS3dFcUFXYU9RUHJoM3hQWUhyQ1M2SjhCaTBtYU1qNmtSRjBCN3RIRUJUNFoyQWJ3S09lMTd5OEFIUzdPYjNib2xwT0pJSThDWGdYOHY1T0dONFU2dFZydTlzU20vRjBFblcvU0lSb0JkZ0FNQmpHUThuWXRVTklLWnphUlpjWGQ2L2RuU1R1VFA3VEJVbE94eHFQM0ExWkJYYnEwVVRxSGtyc0NPbE5ZSktLclRvSnFSZEczQVQvT29XeHpqTlFXWURYVHJ2b3VWUHhXWTc5WWFqMmh2c3Fud3Rtc0dlYk5TWkZMMzNPN3Y2b1BBdWVPWUtUUjZQU2tKbnZaWGdrTlR4TEEvRUYrSnJMTHNnaXdOZkN1eG9ObWpDd2d2d0UrQTN5cENURHR1d256b3NqZzFOMmJndER1VGNZUWcwaU1nTExPWU5iSzQ3a0pvTG5XTWpBdW54cHVjb2pnZXJPblIvRVBtdnQ4Q2FMM2ptbG9GS3VTV3FUS0NiNFBZRzUvdisvK0g0T2dhNDNiY1BpWDVDdzhuWk1BMndGbS9YaHNqbGt2dkk5UE5Va2xSMThOY2hEQVBqd2l1ZVRuK3RVWFB2ODNxYS9sMGRQRkpXTU9abXdDYUkzejIrWnV1VXAzQlB4TWVTdzJ5bmdVR1pNQVZzNTJJMmFVVEpWaENKaG4rSlhON2VLd2xsYTlQUllCM0RsclN6ZlBUNVUwQ0hqRWRTVk42bm8rQmdFODArdXozOWI1SWcwODgyakZmRVBlUVNSelNVdE5BSU1qM01HMnVjYWR4NVNsSDZXeGtlS3NvV213cENTQVNuMDZjT0RtWUxBQ05hQzdtaXZCWUsrbFZBUjRLR0I1MU5TZXVJRXdENmRLa3Z4REtRaWdCNjVuVlcvUXF1UkZ3RWpwbzRkME9aUUExdmE5dUI3MWhrekJvSGYxTmRpdDhUWG8xZEJRQW5nKzllNjZ5dklROE1iUXV4YmpGenJMRUFMby9mTEZBZmJ3enNyV0Y5WkV3TTMzdm4zdzZVc0FyV1ptN2RxeVQ2ZjFuVkVRMkIrd05tRW42VXNBUTdMRDU4RHJoRVQ1RCt0OHVtUFhLS1krQk5nWnVDeXpuYno4NmNrekF2MFREKy9TVlI4Q2VONnZOdjB1S09kNzFpdGlWd0VUYkxlU3JnVHc5c2w3L2lweEVUQ2hwcTVscmFRckFieUhOaEZEbGJnSTZPNW1pdnBXMmNxNkVNQ3lKNyt1eDc2NE03OUNzNTBhSDhnTkt0dUZBSFg1M3lDY1lSNW9YYVcwQ3dHTTF0SG52a3A4QkE0R1RtbWpaaGNDV01OUHI5NHE4UkV3ZGQycGJkVHNRZ0FUTWhxVVdTVStBbzlvVzN1NUN3SDA4TlZQdlhyN3hDYUErWTN1MXRhQnRBc0JITFlsM1MzdFhpVXVBb2FnSDlKV3ZhNEU4QnJZcU5aY0dUbmJqcU0rZHpNQ2xxcnhDUGlUdG9CMEpZRHRIdFBFOTdYdG96NlhEd0ZqTHQvZXBicytCREJWdTFHM2VxSlVpWU9BVi9UN0FBYkR0cFkrQkxCeFhjRSswU1JnYk4xWmZYQTBCRXlRb1htK2M5QklYd0k0RXQ4MUhhdm14ODFHRzFwdGVEMEVURzZwNGNjTHVsWjMvNnNiRzBLQVJWc21jUEtXVUkrVUdnZVloN0JtTTNVRmRzY3ZDWHBMQ2dLczdGd3ltRmpCaEF0bTlhcVNEZ0YzK0RwK211aGlrZGhpY091cENUQllvZHBBWGdRcUFmTGlIYTYzU29Cd1U1SlhvVXFBdkhpSDY2MFNJTnlVNUZXb0VpQXYzdUY2cXdRSU55VjVGYW9FeUl0M3VONHFBY0pOU1Y2RktnSHk0aDJ1dC84Q3NvcENrSjF4RFBJQUFBQUFTVVZPUks1Q1lJST1cIlxuICAgIFtuZ1N0eWxlXT1cIntcbiAgICAgICAgJ3dpZHRoJyAgICAgICAgICAgOiBpbWFnZVNpemUgPyBpbWFnZVNpemUgOiBzaXplLFxuICAgICAgICAnaGVpZ2h0JyAgICAgICAgICA6IGltYWdlU2l6ZSA/IGltYWdlU2l6ZSA6IHNpemVcbiAgICB9XCJcbiAgICAvPlxuICA8L2Rpdj5cbiAgYCxcbiAgc3R5bGVzOiBbYFxuICAuY2lyY2xlIHtcbiAgICBib3JkZXItcmFkaXVzICAgOiA1MCU7XG4gICAgZGlzcGxheSAgICAgICAgIDogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQgOiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXMgICAgIDogY2VudGVyO1xuICB9XG4gIC5jaXJjbGUsaW1ne1xuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB9XG4gIGBdLFxufSlcbmV4cG9ydCBjbGFzcyBOZ3NBdmF0ZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcyB7XG5cbiAgQElucHV0KClcbiAgcHVibGljIHBob3RvVXJsOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgQElucHV0KClcbiAgcHVibGljIG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBASW5wdXQoKVxuICBwdWJsaWMgc2l6ZSA9ICcxMDhweCc7XG5cbiAgQElucHV0KClcbiAgcHVibGljIGZvbnRTaXplOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgQElucHV0KClcbiAgcHVibGljIGlzRml4ZWRDb2xvcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIEBJbnB1dCgpXG4gIHB1YmxpYyBpbWFnZVNpemU6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBASW5wdXQoKVxuICBwdWJsaWMgdGV4dENvbG9yID0gJyNGRkZGRkYnO1xuXG4gIHB1YmxpYyBzaG93SW5pdGlhbHMgPSBmYWxzZTtcbiAgcHVibGljIGluaXRpYWxzITogc3RyaW5nO1xuICBwdWJsaWMgY2lyY2xlQ29sb3IgPSAnJztcbiAgcHVibGljIGxldHRlclNwYWNpbmcgPSAwLjU7XG4gIHB1YmxpYyBmb250U2l6ZVNwbGl0ZXIgPSBbMCwgJ3B4J107XG5cbiAgcHJpdmF0ZSBjb2xvcnMgPSBbXG4gICAgJyNFQjcxODEnLCAvLyByZWRcbiAgICAnIzQ2ODU0NycsIC8vIGdyZWVuXG4gICAgJyNGRkQ1NTgnLCAvLyB5ZWxsb3dcbiAgICAnIzM2NzBCMicsIC8vIGJsdWVcbiAgXTtcblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZm9udFNpemUpIHtcbiAgICAgIHRoaXMuZm9udFNpemVTcGxpdGVyWzBdID0gTnVtYmVyKHRoaXMuZm9udFNpemU/Lm1hdGNoKC9cXGQrL2cpKSB8fCAwO1xuICAgICAgdGhpcy5mb250U2l6ZVNwbGl0ZXJbMV0gPSAgKHRoaXMuZm9udFNpemU/Lm1hdGNoKC9bYS16QS1aXSsvZykpIGFzIGFueSB8fCAncHgnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZvbnRTaXplU3BsaXRlclswXSA9IChOdW1iZXIodGhpcy5zaXplPy5tYXRjaCgvXFxkKy9nKSkgLyAyKSB8fCAwO1xuICAgICAgdGhpcy5mb250U2l6ZVNwbGl0ZXJbMV0gPSAgKHRoaXMuc2l6ZT8ubWF0Y2goL1thLXpBLVpdKy9nKSkgYXMgYW55IHx8ICdweCc7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLm5hbWU/LnByZXZpb3VzVmFsdWUgIT09IGNoYW5nZXMubmFtZT8uY3VycmVudFZhbHVlKSB7XG4gICAgICB0aGlzLmNyZWF0ZUluaXRpdGFscygpO1xuICAgIH1cbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmZvbnRTaXplKSB7XG4gICAgICB0aGlzLmZvbnRTaXplU3BsaXRlclswXSA9IE51bWJlcih0aGlzLmZvbnRTaXplPy5tYXRjaCgvXFxkKy9nKSkgfHwgMDtcbiAgICAgIHRoaXMuZm9udFNpemVTcGxpdGVyWzFdID0gICh0aGlzLmZvbnRTaXplPy5tYXRjaCgvW2EtekEtWl0rL2cpKSBhcyBhbnkgfHwgJ3B4JztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb250U2l6ZVNwbGl0ZXJbMF0gPSAoTnVtYmVyKHRoaXMuc2l6ZT8ubWF0Y2goL1xcZCsvZykpIC8gMikgfHwgMDtcbiAgICAgIHRoaXMuZm9udFNpemVTcGxpdGVyWzFdID0gICh0aGlzLnNpemU/Lm1hdGNoKC9bYS16QS1aXSsvZykpIGFzIGFueSB8fCAncHgnO1xuICAgIH1cbiAgICBpZiAodGhpcy5mb250U2l6ZVNwbGl0ZXJbMF0gPCAyMCkgeyB0aGlzLmxldHRlclNwYWNpbmcgPSAwLjI2OyB9XG4gICAgZWxzZSBpZiAodGhpcy5mb250U2l6ZVNwbGl0ZXJbMF0gPCA0MCkgeyB0aGlzLmxldHRlclNwYWNpbmcgPSAwLjUyOyB9XG4gICAgZWxzZSBpZiAodGhpcy5mb250U2l6ZVNwbGl0ZXJbMF0gPCA2MCkgeyB0aGlzLmxldHRlclNwYWNpbmcgPSAxLjI7IH1cbiAgICBlbHNlIGlmICh0aGlzLmZvbnRTaXplU3BsaXRlclswXSA8IDgwKSB7IHRoaXMubGV0dGVyU3BhY2luZyA9IDEuNTsgfVxuICAgIGlmICghdGhpcy5waG90b1VybCkge1xuICAgICAgdGhpcy5zaG93SW5pdGlhbHMgPSB0cnVlO1xuICAgICAgdGhpcy5jcmVhdGVJbml0aXRhbHMoKTtcbiAgICB9XG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKFxuICAgICAgTWF0aC5yYW5kb20oKSAqIE1hdGguZmxvb3IodGhpcy5jb2xvcnMubGVuZ3RoKVxuICAgICk7XG4gICAgdGhpcy5jaXJjbGVDb2xvciA9IHRoaXMuY29sb3JzW3JhbmRvbUluZGV4XTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlSW5pdGl0YWxzKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5waG90b1VybCkge1xuICAgICAgdGhpcy5zaG93SW5pdGlhbHMgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNob3dJbml0aWFscyA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmluaXRpYWxzID0gJyc7XG4gICAgaWYgKHRoaXMubmFtZSkge1xuICAgICAgbGV0IHggPSB0aGlzLm5hbWUuc3BsaXQoJyAnKTtcbiAgICAgIHggPSB4LmZpbHRlcigoc3RyKSA9PiBzdHIudHJpbSgpLmxlbmd0aCA+IDApO1xuICAgICAgaWYgKHgubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmluaXRpYWxzID0gKHggYXMgYW55KS5zaGlmdCgpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoeC5sZW5ndGggPiAwKSB7IHRoaXMuaW5pdGlhbHMgKz0geC5wb3AoKT8uY2hhckF0KDApPy50b1VwcGVyQ2FzZSgpOyB9XG4gICAgICB9IGVsc2UgeyB0aGlzLnNob3dJbml0aWFscyA9IGZhbHNlOyB9XG4gICAgfSBlbHNlIHsgdGhpcy5zaG93SW5pdGlhbHMgPSBmYWxzZTsgfVxuICB9XG5cbn1cbiJdfQ==